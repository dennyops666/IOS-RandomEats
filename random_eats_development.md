# Random Eats 开发文档

## **项目简介**
Random Eats是一款简单易用的 iOS 应用，旨在帮助用户快速生成随机菜谱，提供菜谱的名称、食材及其用量、制作步骤等基本信息。本项目的开发重点是实现基本功能，包括随机生成菜谱、菜谱展示和分类生成功能。

---

## **目标用户**
1. 日常为家人或自己准备食物但缺乏灵感的用户。
2. 想尝试新菜谱或探索不同菜系的用户。

---

## **功能概述**

### **基本功能**
1. **随机生成菜谱**
   - 点击按钮即可随机生成一道菜谱，显示名称、食材、制作步骤。
   - 界面实时更新菜谱信息，避免重复显示。

2. **菜谱展示**
   - 菜谱的详细页面包括：
     - 菜谱名称。
     - 所需食材及用量。
     - 简单制作步骤。
     - 如果菜谱包含图片，显示相关图片。

3. **基础分类功能**
   - 用户可以选择特定分类（如中餐、甜点）后生成相关菜谱。
   - 分类通过菜谱 JSON 数据中的 "category" 字段进行过滤。

4. **数据存储**
   - 使用本地 JSON 文件作为菜谱数据来源，便于初始开发和功能测试。
   - JSON 数据格式设计简单易维护，可随时添加新的菜谱。

5. **收藏功能**
   - 用户可以收藏喜欢的菜谱。
   - 提供收藏列表查看功能。
   - 支持取消收藏。
   - 收藏数据使用 UserDefaults 进行本地持久化存储。

### **用户交互功能**
- **随机生成按钮**：单击即可生成随机菜谱。
- **导航功能**：
  - 主界面提供进入分类页面的入口。
  - 分类页面允许用户返回主界面或直接生成菜谱。
- **收藏操作**：
  - 在菜谱详情页可以添加/取消收藏。
  - 通过主界面可以访问收藏列表。
  - 支持从收藏列表中删除菜谱。

---

## **开发技术**

### **技术选型**
1. **编程语言**：Swift
2. **开发框架**：SwiftUI
3. **数据存储**：JSON 文件和 UserDefaults
4. **支持版本**：iOS 14 及更高版本

### **主要技术点**
1. 使用 `SwiftUI` 快速构建现代化用户界面，简化界面管理。
2. 通过 `JSONDecoder` 解析本地 JSON 数据，提供高效的数据访问。
3. 使用 MVVM 架构分离数据逻辑与界面逻辑，增强可维护性。
4. 使用本地资源文件（如图片、JSON 数据）避免初期网络依赖。
5. 使用 `UserDefaults` 实现收藏数据的持久化存储。

---

## **系统架构设计**

### **数据结构设计**
#### JSON 数据结构
本地 JSON 文件存储所有菜谱信息，格式如下：
```json
[
  {
    "name": "宫保鸡丁",
    "category": "中餐",
    "ingredients": ["鸡胸肉", "花生", "青椒", "干辣椒"],
    "steps": ["切鸡肉", "热锅炒料", "加入鸡肉", "放花生翻炒"],
    "image": "kung_pao_chicken.jpg"
  }
]
```

#### 数据模型
1. **Recipe 数据模型**：
   ```swift
   struct Recipe: Identifiable {
       let id = UUID()
       let name: String
       let category: String
       let ingredients: [String]
       let steps: [String]
       let image: String
   }
   ```

2. **FavoriteRecipe 数据模型**：
   ```swift
   struct FavoriteRecipe: Codable {
       let id: UUID
       let recipe: Recipe
       let dateAdded: Date
   }
   ```

### **模块划分**
1. **数据层（Model）**
   - 存储菜谱信息并提供数据访问接口。
   - 数据来源于 JSON 文件解析。
   - 收藏数据通过 UserDefaults 存储。

2. **视图模型层（ViewModel）**
   - 负责加载 JSON 数据。
   - 提供随机生成、按分类筛选的逻辑。
   - 管理收藏数据的增删改查。

3. **视图层（View）**
   - 主界面：显示随机菜谱和操作按钮。
   - 菜谱详情：展示完整菜谱信息和收藏功能。
   - 分类选择：提供分类筛选功能。
   - 收藏列表：展示和管理收藏的菜谱。

---

## **界面设计**

### **界面 1：主界面**
- **功能：**
  - 展示随机生成的菜谱。
  - 包含"随机生成"按钮。
  - 提供收藏列表入口。

### **界面 2：分类界面**
- **功能：**
  - 用户选择分类后生成相关菜谱。

### **界面 3：收藏列表**
- **功能：**
  - 展示所有收藏的菜谱。
  - 支持取消收藏。
  - 提供菜谱详情查看。

---

## **开发流程**

### **步骤 1：环境搭建**
1. 安装 Xcode。
2. 创建新的 SwiftUI 项目。
3. 将菜谱 JSON 文件添加到项目资源中。

### **步骤 2：实现数据加载功能**
1. 创建数据模型。
2. 使用 ViewModel 加载和解析数据。
3. 测试随机生成逻辑。

### **步骤 3：实现基础功能**
1. 开发主界面和菜谱展示。
2. 实现分类筛选功能。
3. 添加收藏功能。

---

## **未来扩展方向**
1. **在线获取菜谱数据**：使用第三方 API 提供实时更新的菜谱信息。
2. **用户自定义分类**：允许用户创建自己的菜谱分类。

---

## **总结**
本项目专注于实现随机生成菜谱的基本功能，采用 SwiftUI 构建界面，使用 JSON 文件作为数据来源，并提供收藏功能来增强用户体验。项目架构清晰，便于维护和扩展。
