# 随机菜谱生成器测试文档

## **测试目的**

确保随机菜谱生成器应用在功能、性能和用户体验方面符合开发文档中定义的需求，所有功能模块运行正常，界面交互流畅，无明显的错误或崩溃问题。

## **测试范围**

### **功能测试**

1. 随机生成菜谱功能
2. 菜谱展示页面
3. 分类筛选功能
4. API数据加载与解析
5. 收藏功能
6. 网络请求与错误处理
7. 界面交互优化
8. 双语支持功能

### **界面测试**

1. 主界面布局和显示
2. 菜谱详情界面
3. 分类筛选界面
4. 收藏列表界面
5. 加载状态显示
6. 错误提示界面

### **性能测试**

1. 应用启动速度
2. API请求响应时间
3. 图片加载性能
4. 收藏数据读写性能
5. 网络请求性能
6. 界面切换流畅度

---

## **测试环境**

### **设备要求**
- iPhone 12，iOS 14.0
- iPhone 14，iOS 17.0
- iPhone 15，iOS 17.0

### **测试工具**
- Xcode模拟器
- 实机测试设备

### **网络环境**
- WiFi环境（测试API请求）
- 4G/5G移动网络
- 弱网环境（测试错误处理）
- 离线环境（测试离线功能）

---

## **测试用例**

### **功能测试用例**

#### 用例1：随机生成菜谱

| 测试步骤 | 预期结果 |
|--------|---------|
| 打开应用点击"随机生成" | 显示加载动画，从API获取随机菜谱 |
| 重复点击随机生成 | 每次显示不同菜谱，加载过程流畅 |
| 查看生成的菜谱信息 | 菜谱信息完整，图片正确加载 |
| 断网后点击生成 | 显示友好的错误提示，提供重试选项 |

#### 用例2：分类筛选

| 测试步骤 | 预期结果 |
|--------|---------|
| 选择"中餐"分类 | 正确显示选中状态，分类名称显示中文 |
| 在选中分类下随机生成 | 显示该分类下的随机菜谱，信息准确 |
| 切换中英文分类 | 分类名称正确切换，显示对应语言 |
| 退出后重新打开 | 保持上次选择的分类状态 |

#### 用例3：API数据加载

| 测试步骤 | 预期结果 |
|--------|---------|
| 检查API连接 | 成功连接TheMealDB API |
| 测试数据解析 | 正确解析API返回的菜谱数据 |
| 测试图片加载 | 异步加载图片，显示加载进度 |
| 处理加载失败 | 显示默认图片，不影响其他功能 |

#### 用例4：收藏功能

| 测试步骤 | 预期结果 |
|--------|---------|
| 收藏菜谱 | 成功添加到收藏列表，更新UI状态 |
| 查看收藏列表 | 正确显示所有收藏的菜谱 |
| 取消收藏 | 从列表中移除，更新状态 |
| 重启应用 | 收藏数据保持不变 |

#### 用例5：错误处理

| 测试步骤 | 预期结果 |
|--------|---------|
| 模拟网络错误 | 显示友好的错误提示 |
| 测试请求超时 | 提示超时并提供重试选项 |
| 测试数据解析错误 | 正确处理异常数据 |
| 图片加载失败 | 显示占位图片 |

### **界面测试用例**

#### 用例6：主界面

| 测试步骤 | 预期结果 |
|--------|---------|
| 检查界面布局 | 布局整齐，元素对齐 |
| 测试响应式设计 | 适配不同屏幕尺寸 |
| 检查动画效果 | 切换动画流畅自然 |

#### 用例7：加载状态

| 测试步骤 | 预期结果 |
|--------|---------|
| 检查加载指示器 | 正确显示加载动画 |
| 测试加载状态切换 | 状态切换流畅 |
| 长时间加载处理 | 提供取消选项 |

### **性能测试用例**

#### 用例8：启动性能

| 测试步骤 | 预期结果 |
|--------|---------|
| 冷启动应用 | 启动时间<2秒 |
| 热启动应用 | 启动时间<1秒 |
| 检查内存使用 | 内存占用合理 |

#### 用例9：网络性能

| 测试步骤 | 预期结果 |
|--------|---------|
| API请求响应 | 正常网络下<1秒 |
| 图片加载时间 | 单张图片加载<2秒 |
| 弱网环境测试 | 正确处理超时情况 |

#### 用例10：安全性测试

| 测试步骤 | 预期结果 |
|--------|---------|
| API请求安全 | 使用HTTPS，参数加密 |
| 数据存储安全 | 敏感数据安全存储 |
| 错误信息处理 | 不暴露敏感信息 |

---
